{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/harris/Documents/pushFIT-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/harris/Documents/pushFIT-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/harris/Documents/pushFIT-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/harris/Documents/pushFIT-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/harris/Documents/pushFIT-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Duration from'./Duration';import AudioPlayer from'./AudioPlayer';import Completion from'./Completion';import CurrentExercise from'./CurrentExercise';import EndWorkout from'./EndWorkout';import MobileOptions from'./MobileOptions';import MediaQuery from'react-responsive';var Workout=/*#__PURE__*/function(_React$Component){_inherits(Workout,_React$Component);var _super=_createSuper(Workout);function Workout(props){var _this;_classCallCheck(this,Workout);_this=_super.call(this,props);_this.runTimer=function(){// run the Workout\nvar lowAudio=new Audio('./sounds/low-beep.mp3');lowAudio.play();var p=Promise.resolve();var _iterator=_createForOfIteratorHelper(_this.state.list),_step;try{var _loop=function _loop(){var e=_step.value;p=p.then(function(){return _this.setState({currentExerciseLength:e.duration});}).then(function(){return _this.countdown(e.duration,e.exercise);}).then(function(){if(_this._isMounted){_this.setState({currentExerciseLength:_this.state.rest});}}).then(function(){if(_this._isMounted){_this.setState({currentProgress:_this.state.currentProgress+1});}}).then(function(){return _this.countdown(_this.state.rest,'Take a Rest');});};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}p.then(function(){if(_this._isMounted){_this.setState({currentTime:null,currentExercise:'You Finished. Well Done!'});}});};_this.setCurrent=function(time,exercise){// set the current Exercise\n_this.setState({currentTime:time,currentExercise:exercise});};_this.countdown=function(time,exercise){// create the countdown\nreturn new Promise(function(resolve){var highAudio=new Audio('./sounds/high-beep.mp3');var lowAudio=new Audio('./sounds/low-beep.mp3');_this.i=setInterval(function(){if(_this._isMounted===false){clearInterval(_this.i);resolve();}else{_this.setCurrent(time,exercise);if(time<4&&time>0){highAudio.play();}if(time===0){lowAudio.play();clearInterval(_this.i);resolve();}time--;}},1000);});};_this.state={list:_this.props.list,rest:_this.props.rest,currentExercise:null,currentExerciseLength:_this.props.firstExerciseLength,currentTime:_this.props.firstExerciseLength,currentProgress:0};return _this;}_createClass(Workout,[{key:\"componentDidMount\",value:function componentDidMount(){this._isMounted=true;window.scrollTo(0,0);this.runTimer();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"render\",value:function render(){var workoutStyle={maxWidth:1200,background:'#27272F',display:'flex',flexDirection:'row',flexWrap:'wrap',margin:'0px auto',justifyContent:'center'};return/*#__PURE__*/React.createElement(\"div\",{style:workoutStyle},/*#__PURE__*/React.createElement(MobileOptions,null),/*#__PURE__*/React.createElement(CurrentExercise,{currentExercise:this.state.currentExercise,progress:this.state.currentProgress,currentTime:this.state.currentTime,currentExerciseLength:this.state.currentExerciseLength,list:this.state.list}),/*#__PURE__*/React.createElement(MediaQuery,{maxDeviceWidth:450},/*#__PURE__*/React.createElement(EndWorkout,{endWorkout:this.props.endWorkout})),/*#__PURE__*/React.createElement(MediaQuery,{minDeviceWidth:450},/*#__PURE__*/React.createElement(Duration,{totalExercises:this.state.list.length,totalRest:this.props.totalRest,currentExercise:this.state.currentExercise,progress:this.state.currentProgress,list:this.state.list,rest:this.props.rest}),/*#__PURE__*/React.createElement(AudioPlayer,null),/*#__PURE__*/React.createElement(Completion,{endWorkout:this.props.endWorkout,progress:this.state.currentProgress,list:this.state.list})));}}]);return Workout;}(React.Component);export default Workout;","map":{"version":3,"sources":["/Users/harris/Documents/pushFIT-master/src/components/appComponents/Workout.js"],"names":["React","Duration","AudioPlayer","Completion","CurrentExercise","EndWorkout","MobileOptions","MediaQuery","Workout","props","runTimer","lowAudio","Audio","play","p","Promise","resolve","state","list","e","then","setState","currentExerciseLength","duration","countdown","exercise","_isMounted","rest","currentProgress","currentTime","currentExercise","setCurrent","time","highAudio","i","setInterval","clearInterval","firstExerciseLength","window","scrollTo","workoutStyle","maxWidth","background","display","flexDirection","flexWrap","margin","justifyContent","endWorkout","length","totalRest","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Duration from './Duration';\nimport AudioPlayer from './AudioPlayer';\nimport Completion from './Completion';\nimport CurrentExercise from './CurrentExercise';\nimport EndWorkout from './EndWorkout';\nimport MobileOptions from './MobileOptions';\nimport MediaQuery from 'react-responsive'\n\nclass Workout extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            list:this.props.list,\n            rest:this.props.rest,\n            currentExercise : null,\n            currentExerciseLength:this.props.firstExerciseLength,\n            currentTime : this.props.firstExerciseLength,\n            currentProgress:0,\n          };\n    }\n\n    runTimer = () => { // run the Workout\n        var lowAudio = new Audio('./sounds/low-beep.mp3');\n        lowAudio.play();\n        let p = Promise.resolve();\n        for (let e of this.state.list) {\n                p = p.then( () => this.setState({currentExerciseLength:e.duration}))\n                        .then( () => this.countdown(e.duration, e.exercise))\n                            .then( () => { \n                                            if(this._isMounted){\n                                                this.setState({currentExerciseLength:this.state.rest})\n                                            }})\n                                .then( () => { \n                                            if(this._isMounted){\n                                                this.setState({currentProgress: this.state.currentProgress + 1})\n                                            }})\n                                    .then( () => this.countdown(this.state.rest, 'Take a Rest'))\n        }\n        p.then(() => {\n            if(this._isMounted){\n                this.setState({ \n                    currentTime : null,\n                    currentExercise : 'You Finished. Well Done!'\n                    })\n                }\n            });\n    };\n\n    setCurrent = (time, exercise) => { // set the current Exercise\n        this.setState({ currentTime : time,\n                        currentExercise : exercise\n                        }\n                    )\n    };\n\n    countdown = (time, exercise) => { // create the countdown\n    return new Promise(resolve => {\n        var highAudio = new Audio('./sounds/high-beep.mp3');\n        var lowAudio = new Audio('./sounds/low-beep.mp3');\n            this.i = setInterval(\n                () => {\n                    if(this._isMounted === false){\n                        clearInterval(this.i)\n                        resolve();\n                    }\n                    else{\n                        this.setCurrent(time, exercise);\n                        if(time < 4 && time > 0){\n                            highAudio.play();\n                            }\n                        if (time === 0) {\n                            lowAudio.play();\n                            clearInterval(this.i)\n                            resolve();\n                            }\n                        time--;\n                        }\n                    }\n                , 1000);\n            }\n        );\n    }\n\n    componentDidMount(){\n        this._isMounted = true;\n        window.scrollTo(0, 0)\n        this.runTimer();\n    };\n      \n    componentWillUnmount(){\n        this._isMounted = false;\n    }\n\n    render(){\n        const workoutStyle = {\n            maxWidth:1200,\n            background:'#27272F',\n            display:'flex',\n            flexDirection:'row',\n            flexWrap:'wrap',\n            margin:'0px auto',\n            justifyContent:'center'\n        }   \n\n        return(<div style={workoutStyle}>\n                        <MobileOptions/>\n                        <CurrentExercise    currentExercise = {this.state.currentExercise}\n                                            progress = {this.state.currentProgress}\n                                            currentTime = {this.state.currentTime} \n                                            currentExerciseLength = {this.state.currentExerciseLength}\n                                            list = {this.state.list}/>\n            <MediaQuery maxDeviceWidth={450}>\n                        <EndWorkout         endWorkout = {this.props.endWorkout}/>\n            </MediaQuery>\n            <MediaQuery minDeviceWidth={450}>\n                    \n                    <Duration           totalExercises = {this.state.list.length}\n                                        totalRest = {this.props.totalRest}\n                                        currentExercise = {this.state.currentExercise}\n                                        progress = {this.state.currentProgress}\n                                        list = {this.state.list}\n                                        rest = {this.props.rest}\n                                        />\n                    <AudioPlayer/>\n                    \n                    <Completion         endWorkout = {this.props.endWorkout} \n                                        progress = {this.state.currentProgress}\n                                        list = {this.state.list}/>          \n        </MediaQuery>\n                </div>\n        )\n    }\n}\n\nexport default Workout;"]},"metadata":{},"sourceType":"module"}